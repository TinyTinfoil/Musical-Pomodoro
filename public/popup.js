async function e(e,t){return await browser.tabs.sendMessage(e,{[t]:!0})}let t,n;document.addEventListener("DOMContentLoaded",(async function(){t=await browser.runtime.sendMessage({GetID:"normalMusic"}),n=await browser.runtime.sendMessage({GetID:"breakMusic"}),tabId=await browser.tabs.query({currentWindow:!0,active:!0}).then((e=>e[0].id)),document.getElementById("MusicPick").innerText=t<0?"Pick tab?":t===tabId?"This Tab!":t,document.getElementById("BreakPick").innerText=n<0?"Pick tab?":n===tabId?"This Tab!":n,document.getElementById("MusicPick").addEventListener("click",(async function(){await browser.tabs.query({currentWindow:!0,active:!0}).then((e=>t=e[0].id)).catch((e=>{console.log(e),document.getElementById("MusicPick").innerText="Error (check console)"})),await e(t,"setup"),n!=t&&(browser.runtime.sendMessage({SetID:{name:"normalMusic",value:t}}),document.getElementById("MusicPick").innerText=await browser.runtime.sendMessage({GetID:"normalMusic"}))})),document.getElementById("BreakPick").addEventListener("click",(async function(){await browser.tabs.query({currentWindow:!0,active:!0}).then((e=>n=e[0].id)).catch((e=>{console.log(e),document.getElementById("BreakPick").innerText="Error (check console)"})),await e(n,"setup"),n!=t&&(browser.runtime.sendMessage({SetID:{name:"breakMusic",value:n}}),document.getElementById("BreakPick").innerText=await browser.runtime.sendMessage({GetID:"breakMusic"}))})),document.getElementById("openUI").addEventListener("click",(function(){browser.tabs.create({url:"/index.html"})}))}));
