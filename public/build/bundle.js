var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let r,c;function u(t,e){return r||(r=document.createElement("a")),r.href=e,t===r.href}function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(t,e,n){return t.set(n),e}function f(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function $(){return g(" ")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t){return""===t?null:+t}function k(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e){t.value=null==e?"":e}function M(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function x(t,e,n){t.classList[n?"add":"remove"](e)}function _(t){c=t}function E(){if(!c)throw new Error("Function called outside component initialization");return c}function S(){const t=E();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,o,e),i}(e,n,{cancelable:o});return i.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}const L=[],O=[];let P=[];const T=[],j=Promise.resolve();let A=!1;function H(t){P.push(t)}function I(t){T.push(t)}const C=new Set;let D=0;function N(){if(0!==D)return;const t=c;do{try{for(;D<L.length;){const t=L[D];D++,_(t),z(t.$$)}}catch(t){throw L.length=0,D=0,t}for(_(null),L.length=0,D=0;O.length;)O.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];C.has(e)||(C.add(e),e())}P.length=0}while(L.length);for(;T.length;)T.pop()();A=!1,C.clear(),_(t)}function z(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const G=new Set;let J;function R(){J={r:0,c:[],p:J}}function B(){J.r||o(J.c),J=J.p}function U(t,e){t&&t.i&&(G.delete(t),t.i(e))}function q(t,e,n,o){if(t&&t.o){if(G.has(t))return;G.add(t),J.c.push((()=>{G.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function F(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function K(t){t&&t.c()}function Q(t,n,s,r){const{fragment:c,after_update:u}=t.$$;c&&c.m(n,s),r||H((()=>{const n=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(H)}function V(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];P.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),P=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function W(t,e){-1===t.$$.dirty[0]&&(L.push(t),A||(A=!0,j.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(e,i,s,r,u,a,l,f=[-1]){const d=c;_(e);const h=e.$$={fragment:null,ctx:[],props:a,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:i.target||d.$$.root};l&&l(h.root);let p=!1;if(h.ctx=s?s(e,i.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return h.ctx&&u(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),p&&W(e,t)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!r&&r(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(m)}else h.fragment&&h.fragment.c();i.intro&&U(e.$$.fragment),Q(e,i.target,i.anchor,i.customElement),N()}_(d)}class Y{$destroy(){V(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Z(e){let n,i,s,r,c,u,a,l,h,k,M,_,E,S,L,O,P,T;return{c(){n=p("tr"),i=p("td"),s=p("input"),r=$(),c=p("td"),u=p("input"),a=g(" min"),l=$(),h=p("td"),k=p("input"),M=$(),_=p("td"),E=p("button"),E.innerHTML='<img src="images/edit.svg" alt="Edit Item" class="svelte-1y5pwv"/>',S=$(),L=p("td"),O=p("button"),O.innerHTML='<img src="images/trash-alt.svg" alt="Remove Item" class="svelte-1y5pwv"/>',v(s,"type","text"),s.disabled=e[3],v(s,"class","svelte-1y5pwv"),v(u,"type","number"),v(u,"min","0"),v(u,"max","90"),u.disabled=e[3],v(u,"class","svelte-1y5pwv"),v(k,"type","checkbox"),k.disabled=e[3],v(k,"class","svelte-1y5pwv"),v(E,"class","svelte-1y5pwv"),x(E,"active",e[4]),v(O,"class","svelte-1y5pwv")},m(t,o){d(t,n,o),f(n,i),f(i,s),w(s,e[0]),f(n,r),f(n,c),f(c,u),w(u,e[1]),f(c,a),f(n,l),f(n,h),f(h,k),k.checked=e[2],f(n,M),f(n,_),f(_,E),f(n,S),f(n,L),f(L,O),P||(T=[b(s,"input",e[7]),b(u,"input",e[8]),b(k,"change",e[9]),b(E,"click",e[5]),b(O,"click",e[6])],P=!0)},p(t,[e]){8&e&&(s.disabled=t[3]),1&e&&s.value!==t[0]&&w(s,t[0]),8&e&&(u.disabled=t[3]),2&e&&y(u.value)!==t[1]&&w(u,t[1]),8&e&&(k.disabled=t[3]),4&e&&(k.checked=t[2]),16&e&&x(E,"active",t[4])},i:t,o:t,d(t){t&&m(n),P=!1,o(T)}}}function tt(t,e,n){let{name:o,time:i,done:s}=e,r=!0,c=!1,u=i;const a=S();return t.$$set=t=>{"name"in t&&n(0,o=t.name),"time"in t&&n(1,i=t.time),"done"in t&&n(2,s=t.done)},[o,i,s,r,c,function(){c&&(i>90||i<0||!i)?n(1,i=u):u=i,n(3,r=!r),n(4,c=!c)},function(){a("delete")},function(){o=this.value,n(0,o)},function(){i=y(this.value),n(1,i)},function(){s=this.checked,n(2,s)}]}class et extends Y{constructor(t){super(),X(this,t,tt,Z,s,{name:0,time:1,done:2})}}const nt=[];let ot=function(e,n=t){let o;const i=new Set;function r(t){if(s(e,t)&&(e=t,o)){const t=!nt.length;for(const t of i)t[1](),nt.push(t,e);if(t){for(let t=0;t<nt.length;t+=2)nt[t][0](nt[t+1]);nt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,c=t){const u=[s,c];return i.add(u),1===i.size&&(o=n(r)||t),s(e),()=>{i.delete(u),0===i.size&&o&&(o(),o=null)}}}}([]);function it(t,e,n){const o=t.slice();return o[13]=e[n].name,o[14]=e[n].time,o[15]=e[n].done,o[16]=e,o[17]=n,o}function st(t){let e,n,o,i,s;function r(e){t[6](e,t[13],t[16],t[17])}function c(e){t[7](e,t[14],t[16],t[17])}function u(e){t[8](e,t[15],t[16],t[17])}let a={};return void 0!==t[13]&&(a.name=t[13]),void 0!==t[14]&&(a.time=t[14]),void 0!==t[15]&&(a.done=t[15]),e=new et({props:a}),O.push((()=>F(e,"name",r))),O.push((()=>F(e,"time",c))),O.push((()=>F(e,"done",u))),e.$on("delete",(function(){return t[9](t[17])})),{c(){K(e.$$.fragment)},m(t,n){Q(e,t,n),s=!0},p(s,r){t=s;const c={};!n&&8&r&&(n=!0,c.name=t[13],I((()=>n=!1))),!o&&8&r&&(o=!0,c.time=t[14],I((()=>o=!1))),!i&&8&r&&(i=!0,c.done=t[15],I((()=>i=!1))),e.$set(c)},i(t){s||(U(e.$$.fragment,t),s=!0)},o(t){q(e.$$.fragment,t),s=!1},d(t){V(e,t)}}}function rt(t){let e,n,i,s,r,c,u,a,l,k,M,x,_,E,S,L,O,P,T,j,A,H,I,C,D=t[3],N=[];for(let e=0;e<D.length;e+=1)N[e]=st(it(t,D,e));const z=t=>q(N[t],1,1,(()=>{N[t]=null}));return{c(){e=p("table"),n=p("thead"),n.innerHTML="<th>Task:</th> \n    <th>Time:</th> \n    <th>Done?</th> \n    <th>Edit?</th> \n    <th>Remove?</th>",i=$(),s=p("tbody");for(let t=0;t<N.length;t+=1)N[t].c();r=$(),c=p("tfoot"),u=p("h4"),u.textContent="Add Task",a=$(),l=p("tr"),k=p("td"),M=p("input"),x=$(),_=p("td"),E=p("input"),S=g(" min"),L=$(),O=p("td"),P=p("input"),T=$(),j=p("td"),A=p("button"),A.textContent="+",v(M,"type","text"),v(E,"type","number"),v(E,"min","0"),v(E,"max","90"),v(P,"type","checkbox")},m(o,m){d(o,e,m),f(e,n),f(e,i),f(e,s);for(let t=0;t<N.length;t+=1)N[t]&&N[t].m(s,null);f(e,r),f(e,c),f(c,u),f(c,a),f(c,l),f(l,k),f(k,M),w(M,t[0]),f(l,x),f(l,_),f(_,E),w(E,t[1]),f(_,S),f(l,L),f(l,O),f(O,P),P.checked=t[2],f(l,T),f(l,j),f(j,A),H=!0,I||(C=[b(M,"input",t[10]),b(E,"input",t[11]),b(P,"change",t[12]),b(A,"click",t[4])],I=!0)},p(t,[e]){if(40&e){let n;for(D=t[3],n=0;n<D.length;n+=1){const o=it(t,D,n);N[n]?(N[n].p(o,e),U(N[n],1)):(N[n]=st(o),N[n].c(),U(N[n],1),N[n].m(s,null))}for(R(),n=D.length;n<N.length;n+=1)z(n);B()}1&e&&M.value!==t[0]&&w(M,t[0]),2&e&&y(E.value)!==t[1]&&w(E,t[1]),4&e&&(P.checked=t[2])},i(t){if(!H){for(let t=0;t<D.length;t+=1)U(N[t]);H=!0}},o(t){N=N.filter(Boolean);for(let t=0;t<N.length;t+=1)q(N[t]);H=!1},d(t){t&&m(e),h(N,t),I=!1,o(C)}}}function ct(t,e,n){let o,i;a(t,ot,(t=>n(3,o=t)));let s=25,r=!1;function c(t){o.splice(t,1),ot.set(o)}return[i,s,r,o,function(){void 0===s||s>90||s<0||(l(ot,o=[...o,{name:i,time:s,done:r}],o),n(0,i=""),n(1,s=25),n(2,r=!1))},c,function(t,e,n,i){n[i].name=t,ot.set(o)},function(t,e,n,i){n[i].time=t,ot.set(o)},function(t,e,n,i){n[i].done=t,ot.set(o)},t=>c(t),function(){i=this.value,n(0,i)},function(){s=y(this.value),n(1,s)},function(){r=this.checked,n(2,r)}]}class ut extends Y{constructor(t){super(),X(this,t,ct,rt,s,{})}}function at(e){let n,o,i,s,r,c,u,a,l,h,b,y,w,M=(e[0]%12||12)+"",x=(e[1]<10?"0"+e[1]:e[1])+"",_=e[0]>=12?"PM":"AM";return{c(){n=p("h1"),o=g(M),i=g(":"),s=g(x),r=$(),c=g(_),u=$(),a=p("br"),l=$(),h=p("sub"),b=g(e[2]),y=$(),w=p("h2"),w.textContent="Musical Pomodoro",v(h,"class","svelte-1sru9z3"),v(n,"class","svelte-1sru9z3"),v(w,"class","svelte-1sru9z3")},m(t,e){d(t,n,e),f(n,o),f(n,i),f(n,s),f(n,r),f(n,c),f(n,u),f(n,a),f(n,l),f(n,h),f(h,b),d(t,y,e),d(t,w,e)},p(t,[e]){1&e&&M!==(M=(t[0]%12||12)+"")&&k(o,M),2&e&&x!==(x=(t[1]<10?"0"+t[1]:t[1])+"")&&k(s,x),1&e&&_!==(_=t[0]>=12?"PM":"AM")&&k(c,_),4&e&&k(b,t[2])},i:t,o:t,d(t){t&&m(n),t&&m(y),t&&m(w)}}}function lt(t,e,n){let{version:o}=e,{hour:i,min:s}=e,r="";return t.$$set=t=>{"version"in t&&n(3,o=t.version),"hour"in t&&n(0,i=t.hour),"min"in t&&n(1,s=t.min)},t.$$.update=()=>{9&t.$$.dirty&&n(2,r=23===i?"Hour of the Rat":0===i?"Midnight":1===i?"Hour of the Ox":2===i?"Late Hour":3===i?"Hour of the Tiger":4===i?"Morning Hour":5===i?"Daybreak":o)},[i,s,r,o]}class ft extends Y{constructor(t){super(),X(this,t,lt,at,s,{version:3,hour:0,min:1})}}function dt(t,e,n){const o=t.slice();return o[17]=e[n].name,o[18]=e[n].time,o[19]=e[n].done,o[20]=e,o[21]=n,o}function mt(t){let e,n,o,i;function s(){t[11].call(n,t[20],t[21])}return{c(){e=p("td"),n=p("input"),v(n,"type","checkbox"),n.disabled=!0,v(n,"class","svelte-wrrsnf")},m(r,c){d(r,e,c),f(e,n),n.checked=t[19],o||(i=b(n,"change",s),o=!0)},p(e,o){t=e,1&o&&(n.checked=t[19])},d(t){t&&m(e),o=!1,i()}}}function ht(t){let e,n,o,i,s,r,c,u,a,l=t[17]+"",h=t[18]+"",b=void 0!==t[19]&&mt(t);return{c(){e=p("tr"),n=p("td"),o=g(l),i=$(),s=p("td"),r=g(h),c=g(" min"),u=$(),b&&b.c(),a=$()},m(t,l){d(t,e,l),f(e,n),f(n,o),f(e,i),f(e,s),f(s,r),f(s,c),f(e,u),b&&b.m(e,null),f(e,a)},p(t,n){1&n&&l!==(l=t[17]+"")&&k(o,l),1&n&&h!==(h=t[18]+"")&&k(r,h),void 0!==t[19]?b?b.p(t,n):(b=mt(t),b.c(),b.m(e,a)):b&&(b.d(1),b=null)},d(t){t&&m(e),b&&b.d()}}}function pt(e){let n,o,i,s,r,c,a,l,y,w,M,x,_,E,S,L,O,P,T=(e[3]._hour%12||12)+"",j=(e[3]._min<10?"0"+e[3]._min:e[3]._min)+"",A=e[3]._hour>12?"PM":"AM",H=e[0],I=[];for(let t=0;t<H.length;t+=1)I[t]=ht(dt(e,H,t));return{c(){n=p("table");for(let t=0;t<I.length;t+=1)I[t].c();o=$(),i=p("button"),s=p("img"),a=$(),l=p("p"),y=g("Playlist has "),w=g(e[1]),M=g(" minutes remaining. This will finish at aprox. "),x=g(T),_=g(":"),E=g(j),S=$(),L=g(A),u(s.src,r=e[2]?"images/stop-circle.svg":"images/play-circle.svg")||v(s,"src",r),v(s,"width","32"),v(s,"alt",c=e[2]?"Stop Playing?":"Play?")},m(t,r){d(t,n,r);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(n,null);d(t,o,r),d(t,i,r),f(i,s),d(t,a,r),d(t,l,r),f(l,y),f(l,w),f(l,M),f(l,x),f(l,_),f(l,E),f(l,S),f(l,L),O||(P=b(i,"click",e[12]),O=!0)},p(t,[e]){if(1&e){let o;for(H=t[0],o=0;o<H.length;o+=1){const i=dt(t,H,o);I[o]?I[o].p(i,e):(I[o]=ht(i),I[o].c(),I[o].m(n,null))}for(;o<I.length;o+=1)I[o].d(1);I.length=H.length}4&e&&!u(s.src,r=t[2]?"images/stop-circle.svg":"images/play-circle.svg")&&v(s,"src",r),4&e&&c!==(c=t[2]?"Stop Playing?":"Play?")&&v(s,"alt",c),2&e&&k(w,t[1]),8&e&&T!==(T=(t[3]._hour%12||12)+"")&&k(x,T),8&e&&j!==(j=(t[3]._min<10?"0"+t[3]._min:t[3]._min)+"")&&k(E,j),8&e&&A!==(A=t[3]._hour>12?"PM":"AM")&&k(L,A)},i:t,o:t,d(t){t&&m(n),h(I,t),t&&m(o),t&&m(i),t&&m(a),t&&m(l),O=!1,P()}}}function gt(t,e,n){let o;a(t,ot,(t=>n(14,o=t)));let{userListObj:i,min:s}=e,r=[],c=0;i.forEach(((t,e)=>{!1===t.done&&(r.push({...t,callback:()=>{l(ot,o[e].done=!0,o)}}),r.push({name:"Break",time:5,done:void 0}))}));let u,{normalMusic:f,breakMusic:d}=e;f.pause(),d.pause();let m={_hour:0,_min:0},{hour:h}=e,p=!1,g=0,{speak:$=!1}=e;function b(){void 0===r[c].done?(f.pause(),d.play()):(f.play(),d.pause()),$&&speechSynthesis.speak(new window.SpeechSynthesisUtterance(r[c].name))}return t.$$set=t=>{"userListObj"in t&&n(4,i=t.userListObj),"min"in t&&n(5,s=t.min),"normalMusic"in t&&n(6,f=t.normalMusic),"breakMusic"in t&&n(7,d=t.breakMusic),"hour"in t&&n(8,h=t.hour),"speak"in t&&n(9,$=t.speak)},t.$$.update=()=>{if(1315&t.$$.dirty){p&&(r[c].time>0?n(0,r[c].time--,r):r.length>c&&(n(0,r[c].done=!0,r),null!=r[c].callback&&r[c].callback(),c++,b()),n(0,r)),n(10,g=0);for(let t of r)n(10,g+=t.time);n(1,u=g),n(3,m={_hour:(h+Math.floor((s+u)/60))%24,_min:(s+u)%60})}196&t.$$.dirty&&(p?b():(f.pause(),d.pause()))},[r,u,p,m,i,s,f,d,h,$,g,function(t,e){t[e].done=this.checked,n(0,r)},()=>{n(2,p=!p)}]}class $t extends Y{constructor(t){super(),X(this,t,gt,pt,s,{userListObj:4,min:5,normalMusic:6,breakMusic:7,hour:8,speak:9})}}function bt(t){let e,n;return e=new $t({props:{userListObj:t[7],speak:t[6],min:t[2],hour:t[1],breakMusic:t[5],normalMusic:t[4]}}),{c(){K(e.$$.fragment)},m(t,o){Q(e,t,o),n=!0},p(t,n){const o={};128&n&&(o.userListObj=t[7]),64&n&&(o.speak=t[6]),4&n&&(o.min=t[2]),2&n&&(o.hour=t[1]),32&n&&(o.breakMusic=t[5]),16&n&&(o.normalMusic=t[4]),e.$set(o)},i(t){n||(U(e.$$.fragment,t),n=!0)},o(t){q(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function vt(t){let e,n,i,s,r,c,u,a,l,h,y,w,x,_,E,S,L,O,P,T,j,A,H,I,C,D,N;n=new ft({props:{version:t[0],hour:t[1],min:t[2]}}),s=new ut({});let z=t[3]&&bt(t);return{c(){e=p("main"),K(n.$$.fragment),i=$(),K(s.$$.fragment),r=$(),c=p("details"),u=p("summary"),u.textContent="Options",a=$(),l=p("button"),h=g("Make into Playlist : "),y=g(t[3]),w=$(),x=p("button"),x.textContent="Nuke Task List (removes cache)",_=$(),E=p("button"),E.innerHTML='Export tasks to file <img src="images/save.svg" width="16" alt="Save to file"/>',S=p("button"),L=p("label"),O=p("input"),P=g("\r\n      Load tasks from file"),T=$(),j=p("label"),A=p("input"),H=g("\r\n    Speak cues"),I=$(),z&&z.c(),v(O,"type","file"),M(O,"display","none"),v(A,"type","checkbox"),M(j,"display","inline"),c.open=!0,v(e,"class","svelte-1t5xanp")},m(o,m){d(o,e,m),Q(n,e,null),f(e,i),Q(s,e,null),f(e,r),f(e,c),f(c,u),f(c,a),f(c,l),f(l,h),f(l,y),f(c,w),f(c,x),f(c,_),f(c,E),f(c,S),f(S,L),f(L,O),f(L,P),f(c,T),f(c,j),f(j,A),A.checked=t[6],f(j,H),f(e,I),z&&z.m(e,null),C=!0,D||(N=[b(l,"click",t[10]),b(x,"click",t[8]),b(E,"click",t[11]),b(O,"change",t[12]),b(A,"change",t[13])],D=!0)},p(t,[o]){const i={};1&o&&(i.version=t[0]),2&o&&(i.hour=t[1]),4&o&&(i.min=t[2]),n.$set(i),(!C||8&o)&&k(y,t[3]),64&o&&(A.checked=t[6]),t[3]?z?(z.p(t,o),8&o&&U(z,1)):(z=bt(t),z.c(),U(z,1),z.m(e,null)):z&&(R(),q(z,1,1,(()=>{z=null})),B())},i(t){C||(U(n.$$.fragment,t),U(s.$$.fragment,t),U(z),C=!0)},o(t){q(n.$$.fragment,t),q(s.$$.fragment,t),q(z),C=!1},d(t){t&&m(e),V(n),V(s),z&&z.d(),D=!1,o(N)}}}let yt=1e3;async function kt(t,e){return await browser.tabs.sendMessage(t,{[e]:!0})}function wt(t,e,n){let o;a(t,ot,(t=>n(7,o=t)));let{version:i}=e,s=Date.now()+yt,r=new Date,c=r.getSeconds(),u=r.getHours(),f=r.getMinutes(),d=[],m=0;setTimeout((function t(){let e=Date.now()-s;e>yt&&(console.log("Significant time drift ..."),r=new Date,n(1,u=r.getHours()),n(2,f=r.getMinutes()),n(9,c=r.getSeconds()));n(9,c++,c),e<=yt&&(d.push(e+m),m=function(t){let e=t.concat();if(e.sort((function(t,e){return t-e})),0===e.length)return 0;let n=Math.floor(e.length/2);return e.length%2?e[n]:(e[n-1]+e[n])/2}(d),d.length>=10&&d.shift());s+=yt,setTimeout(t,Math.max(0,yt-e-m))}),yt);let h=!1,p={},g={};p.play=async()=>kt(await browser.runtime.sendMessage({GetID:"normalMusic"}),"play"),p.pause=async()=>kt(await browser.runtime.sendMessage({GetID:"normalMusic"}),"pause"),g.play=async()=>kt(await browser.runtime.sendMessage({GetID:"breakMusic"}),"play"),g.pause=async()=>kt(await browser.runtime.sendMessage({GetID:"breakMusic"}),"pause"),null!=localStorage.getItem("userList")&&Object.assign(o,JSON.parse(localStorage.getItem("userList")));const $=ot.subscribe((()=>localStorage.setItem("userList",JSON.stringify(o))));var b;b=$,E().$$.on_destroy.push(b);let v=!1;return t.$$set=t=>{"version"in t&&n(0,i=t.version)},t.$$.update=()=>{516&t.$$.dirty&&60===c&&(n(2,f++,f),n(9,c=0)),6&t.$$.dirty&&f>=60&&(n(1,u++,u),n(2,f=0)),2&t.$$.dirty&&24===u&&n(1,u=0)},[i,u,f,h,p,g,v,o,function(){l(ot,o=[],o),localStorage.removeItem("userList")},c,function(){0!==o.length&&n(3,h=!h)},function(){let t=document.createElement("a");t.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o))),t.setAttribute("download","tasks.json"),t.click()},async function(){let t=await this.files[0].text();l(ot,o=JSON.parse(t),o)},function(){v=this.checked,n(6,v)}]}return new class extends Y{constructor(t){super(),X(this,t,wt,vt,s,{version:0})}}({target:document.body,props:{version:browser.runtime.getManifest().version}})}();
//# sourceMappingURL=bundle.js.map
